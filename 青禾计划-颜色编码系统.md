# 青禾计划 - 颜色编码系统

**文档日期**: 2025-10-14  
**项目**: 青禾计划 iOS App  
**说明**: 本文档整理了项目中所有的颜色定义和编码

---

## 📋 目录

1. [主设计系统 (ModernDesignSystem)](#主设计系统)
2. [健康主题 (HealthDesignTheme)](#健康主题)
3. [睡眠主题 (SleepDesignTheme)](#睡眠主题)
4. [五行音乐主题 (WuYinPlaylistTheme)](#五行音乐主题)
5. [应用常量 (AppConstants)](#应用常量)
6. [地图可视化颜色](#地图可视化颜色)
7. [其他主题颜色](#其他主题颜色)

---

## 主设计系统

**文件**: `ModernDesignSystem.swift`

### 主色调 - 自然绿色系

| 颜色名称 | RGB 值 | HEX 值 | 用途 |
|---------|--------|--------|------|
| primaryGreen | `76, 175, 80` | `#4CAF50` | 开屏页面主色、主要按钮 |
| primaryGreenLight | `139, 195, 74` | `#8BC34A` | 开屏页面渐变色、次要强调 |
| primaryGreenDark | `56, 142, 60` | `#388E3C` | 深色版本、悬停状态 |

### 分段选择器专用色

| 颜色名称 | RGB 值 | HEX 值 | 用途 |
|---------|--------|--------|------|
| segmentedSelected | `76, 175, 80` | `#4CAF50` | 选中状态 |
| segmentedUnselected | 系统灰色 | - | 未选中状态 |
| segmentedBackground | 系统灰色6 | - | 背景色 |

### 强调色

| 颜色名称 | RGB 值 | HEX 值 | 用途 |
|---------|--------|--------|------|
| accentBlue | `33, 150, 243` | `#2196F3` | 蓝色强调 |
| accentOrange | `255, 152, 0` | `#FF9800` | 橙色强调 |
| accentPurple | `156, 39, 176` | `#9C27B0` | 紫色强调 |

### 功能色

| 颜色名称 | RGB 值 | HEX 值 | 用途 |
|---------|--------|--------|------|
| successGreen | `76, 175, 80` | `#4CAF50` | 成功状态 |
| warningOrange | `255, 193, 7` | `#FFC107` | 警告状态 |
| errorRed | `244, 67, 54` | `#F44336` | 错误状态 |
| infoBlue | `33, 150, 243` | `#2196F3` | 信息提示 |

### 文本颜色（系统动态）

| 颜色名称 | 类型 | 说明 |
|---------|------|------|
| textPrimary | `.label` | 主要文本 |
| textSecondary | `.secondaryLabel` | 次要文本 |
| textTertiary | `.tertiaryLabel` | 三级文本 |
| textDisabled | `.quaternaryLabel` | 禁用文本 |

### 背景色（系统动态）

| 颜色名称 | 类型 | 说明 |
|---------|------|------|
| backgroundPrimary | `.systemBackground` | 主背景 |
| backgroundSecondary | `.secondarySystemBackground` | 次要背景 |
| backgroundCard | `.systemBackground` | 卡片背景 |
| backgroundOverlay | `.systemBackground` + 80% 透明度 | 覆盖层 |

### 聊天专用色

| 颜色名称 | RGB 值 | HEX 值 | 用途 |
|---------|--------|--------|------|
| chatBackground | 系统次要背景 | - | 聊天背景 |
| chatBubbleReceived | 系统背景 | - | 接收消息气泡 |
| chatBubbleSent | `76, 175, 80` | `#4CAF50` | 发送消息气泡 |

### 边框色（系统动态）

| 颜色名称 | 类型 | 说明 |
|---------|------|------|
| borderLight | `.separator` | 轻边框 |
| borderMedium | `.opaqueSeparator` | 中等边框 |
| borderDark | `.systemGray3` | 深色边框 |

### 热力图颜色

| 颜色名称 | RGB 值 | HEX 值 | 用途 |
|---------|--------|--------|------|
| heatmapLevel0 | `235, 237, 240` | `#EBEDF0` | 无活动 |
| heatmapLevel1 | `155, 233, 168` | `#9BE9A8` | 低活动 |
| heatmapLevel2 | `64, 196, 99` | `#40C463` | 中等活动 |
| heatmapLevel3 | `48, 161, 78` | `#30A14E` | 高活动 |
| heatmapLevel4 | `33, 110, 57` | `#216E39` | 极高活动 |

### 中式扩展色

| 颜色名称 | RGB 值 | HEX 值 | 用途 |
|---------|--------|--------|------|
| paperIvory | `247, 244, 237` | `#F7F4ED` | 纸感背景 |
| accentGold | `201, 169, 106` | `#C9A96A` | 金色点缀 |

### 阴影颜色

| 颜色名称 | 类型 | 说明 |
|---------|------|------|
| shadowColor | `.systemGray4` + 30% 透明度 | 卡片阴影 |

---

## 健康主题

**文件**: `HealthDesignTheme.swift`

### 主色系

| 颜色名称 | HEX 值 | 说明 |
|---------|--------|------|
| healthGreen | `#C3E88D` | 清新绿 |
| healthMint | `#B2F0E1` | 薄荷青 |
| healthWarm | `#FFE485` | 温暖黄 |
| softShadow | `#B3ACA5` | 柔和阴影基色 |

### 渐变背景

**基础线性渐变**:
- 起点: `healthGreen` (位置 0.0)
- 中点: `healthMint` (位置 0.55)
- 终点: `healthWarm` (位置 1.0)
- 方向: 左上到右下

**顶部右侧径向柔光**:
- 颜色: `softShadow` (22% 透明度)
- 中心: 右上角
- 半径: 0 到 520

---

## 睡眠主题

**文件**: `SleepDesignTheme.swift`

### 主色调

| 颜色名称 | RGB 值 | HEX 值 | 说明 |
|---------|--------|--------|------|
| primarySleep | `102, 126, 234` | `#667EEA` | 深蓝紫色 |
| accentSleep | `138, 43, 226` | `#8A2BE2` | 紫色强调色 |

### 夜间渐变色

| 位置 | RGB 值 | HEX 值 | 说明 |
|------|--------|--------|------|
| 起点 | `25, 25, 112` | `#191970` | 深蓝 |
| 终点 | `72, 61, 139` | `#483D8B` | 深紫 |

---

## 五行音乐主题

**文件**: `WuYinPlaylistModuleView.swift`

### 五行元素色

| 元素 | HEX 值 | RGB 值 | 说明 |
|------|--------|--------|------|
| 木 (Wood) | `#37B26C` | `55, 178, 108` | 绿色 |
| 火 (Fire) | `#E85C4A` | `232, 92, 74` | 红色 |
| 土 (Earth) | `#D6A23E` | `214, 162, 62` | 黄色 |
| 金 (Metal) | `#B7BEC7` | `183, 190, 199` | 银灰色 |
| 水 (Water) | `#3E7BEB` | `62, 123, 235` | 蓝色 |

---

## 应用常量

**文件**: `AppConstants.swift`

### 基础颜色

| 颜色名称 | RGB 值 | 类型 | 说明 |
|---------|--------|------|------|
| primaryGreen | `0.2, 0.7, 0.4` | RGB (0-1) | 主绿色 |
| primaryText | `.primary` | 系统 | 主文本 |
| secondaryText | `.secondary` | 系统 | 次要文本 |
| tertiaryText | `.secondary` + 60% 透明度 | 系统 | 三级文本 |
| background | `.systemBackground` | 系统 | 背景 |
| backgroundGray | `.systemGray6` | 系统 | 灰色背景 |
| cardBackground | `.systemBackground` | 系统 | 卡片背景 |
| borderColor | `.systemGray4` | 系统 | 边框 |
| separatorGray | `.systemGray4` | 系统 | 分隔线 |
| systemRed | `.systemRed` | 系统 | 系统红色 |

---

## 地图可视化颜色

**文件**: `AppleMapView.swift`

### 速度渐变色（慢→快）

| 位置 | RGB 值 | HEX 值 | 说明 |
|------|--------|--------|------|
| 0% (最慢) | `52, 199, 89` | `#34C759` | 绿色 |
| 25% | `166, 206, 57` | `#A6CE39` | 绿黄色 |
| 50% | `255, 214, 10` | `#FFD60A` | 黄色 |
| 75% | `255, 149, 0` | `#FF9500` | 橙色 |
| 100% (最快) | `255, 59, 48` | `#FF3B30` | 红色 |

---

## 其他主题颜色

### 屏幕使用时间颜色

**文件**: `NewMainHomeView.swift`

| 时长范围 | RGB 值 | HEX 值 | 说明 |
|---------|--------|--------|------|
| 0-2小时 | `52, 199, 89` | `#34C759` | 健康（绿色） |
| 2-4小时 | `255, 149, 0` | `#FF9500` | 适度（橙色） |
| 4-6小时 | `255, 59, 48` | `#FF3B30` | 过度（红色） |
| 6+小时 | `142, 142, 147` | `#8E8E93` | 严重（灰色） |

### 心情评分颜色

**文件**: `CheckinModels.swift`

| 心情 | 颜色 | 说明 |
|------|------|------|
| excellent (优秀) | `successGreen` | `#4CAF50` |
| good (良好) | `primaryGreenLight` | `#8BC34A` |
| normal (一般) | `accentBlue` | `#2196F3` |
| bad (较差) | `warningOrange` | `#FFC107` |
| terrible (很差) | `errorRed` | `#F44336` |

### 习惯类型颜色

**文件**: `RecordModels.swift`

| 习惯类型 | 颜色 | 说明 |
|---------|------|------|
| smoking (吸烟) | `.red` | 红色 |
| drinking (饮酒) | `.orange` | 橙色 |
| stayingUpLate (熬夜) | `.purple` | 紫色 |
| overeating (暴饮暴食) | `.brown` | 棕色 |
| shoppingImpulse (冲动购物) | `.pink` | 粉色 |
| gameAddiction (游戏成瘾) | `.blue` | 蓝色 |
| phoneScrolling (刷手机) | `.cyan` | 青色 |
| procrastination (拖延) | `.yellow` | 黄色 |
| snacking (零食) | `.green` | 绿色 |
| other (其他) | `.gray` | 灰色 |

---

## 🎨 颜色使用指南

### 主色调使用原则

1. **主绿色 (#4CAF50)** - 用于:
   - 主要操作按钮
   - 品牌标识
   - 积极状态指示
   - 成功提示

2. **功能色** - 用于:
   - 成功: `#4CAF50` (绿色)
   - 警告: `#FFC107` (黄色)
   - 错误: `#F44336` (红色)
   - 信息: `#2196F3` (蓝色)

3. **系统动态颜色** - 用于:
   - 文本颜色（自动适配深色模式）
   - 背景颜色（自动适配深色模式）
   - 边框和分隔线

### 深色模式支持

所有使用 `Color(.system...)` 的颜色都会自动适配深色模式，包括:
- 文本颜色 (label, secondaryLabel, etc.)
- 背景颜色 (systemBackground, secondarySystemBackground)
- 边框颜色 (separator, systemGray系列)

### 颜色对比度

确保文本和背景之间有足够的对比度:
- 主要文本: 至少 4.5:1
- 大文本: 至少 3:1
- 图标和图形: 至少 3:1

---

## 📊 颜色统计

- **主色调**: 3 种绿色变体
- **强调色**: 3 种 (蓝、橙、紫)
- **功能色**: 4 种 (成功、警告、错误、信息)
- **主题色**: 15+ 种 (健康、睡眠、五行等)
- **系统动态色**: 10+ 种

---

## 🔧 技术实现

### Color Extension (Hex 支持)

项目中实现了 `Color(hex:)` 扩展，支持以下格式:
- 3位: `#RGB` (12-bit)
- 6位: `#RRGGBB` (24-bit)
- 8位: `#AARRGGBB` (32-bit with alpha)

**示例**:
```swift
Color(hex: "4CAF50")  // 主绿色
Color(hex: "C3E88D")  // 健康绿
```

### RGB 值转换

RGB 值使用 0-255 范围，在代码中需要除以 255:
```swift
Color(red: 76/255, green: 175/255, blue: 80/255)  // #4CAF50
```

---

**文档维护**: 请在添加新颜色时更新此文档  
**最后更新**: 2025-10-14


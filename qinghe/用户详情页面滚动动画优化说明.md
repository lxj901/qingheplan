# ç”¨æˆ·è¯¦æƒ…é¡µé¢æ»šåŠ¨åŠ¨ç”»ä¼˜åŒ–è¯´æ˜Ž

## æ¦‚è¿°
æˆ‘ä»¬ä¸ºç”¨æˆ·è¯¦æƒ…é¡µé¢å®žçŽ°äº†æŽ¨ç‰¹é£Žæ ¼çš„æ»šåŠ¨åŠ¨ç”»æ•ˆæžœï¼ŒåŒ…æ‹¬å¯¼èˆªæ é€æ˜Žåº¦æ¸å˜ã€è§†å·®æ•ˆæžœå’Œå„ç§å¾®äº¤äº’åŠ¨ç”»ã€‚

## ðŸ”§ é—®é¢˜ä¿®å¤è®°å½•

### åŽŸå§‹é—®é¢˜
1. **æ»šåŠ¨åç§»å§‹ç»ˆä¸º0.0** - æ»šåŠ¨ç›‘å¬æ²¡æœ‰æ­£ç¡®å·¥ä½œ
2. **å¯¼èˆªæ é€æ˜Žåº¦è®¡ç®—é”™è¯¯** - å³ä½¿æ²¡æœ‰æ»šåŠ¨ä¹Ÿæœ‰é€æ˜Žåº¦
3. **åæ ‡ç©ºé—´ä½¿ç”¨ä¸æ­£ç¡®** - ä½¿ç”¨äº†é”™è¯¯çš„åæ ‡ç³»ç»Ÿ

### ä¿®å¤æ–¹æ¡ˆ
1. **ä¿®æ­£æ»šåŠ¨åç§»ç›‘å¬**
   - ä½¿ç”¨æ­£ç¡®çš„åæ ‡ç©ºé—´ `.named("scrollView")`
   - åœ¨ ScrollView çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸Šç›‘å¬åç§»å˜åŒ–
   - ç¡®ä¿åç§»å€¼æ­£ç¡®åæ˜ æ»šåŠ¨çŠ¶æ€

2. **ä¿®æ­£é€æ˜Žåº¦è®¡ç®—é€»è¾‘**
   - åœ¨é¡µé¢é¡¶éƒ¨æ—¶é€æ˜Žåº¦ä¸º0ï¼ˆå®Œå…¨é€æ˜Žï¼‰
   - å‘ä¸Šæ»šåŠ¨æ—¶é€æ¸å¢žåŠ é€æ˜Žåº¦
   - ä½¿ç”¨æ­£ç¡®çš„é˜ˆå€¼ï¼š-20pxå¼€å§‹æ¸å˜ï¼Œ-80pxå®Œå…¨ä¸é€æ˜Ž

3. **ä¼˜åŒ–åŠ¨ç”»è§¦å‘æ¡ä»¶**
   - æ‰€æœ‰åŠ¨ç”»æ•ˆæžœåªåœ¨å®žé™…æ»šåŠ¨æ—¶è§¦å‘
   - ç§»é™¤äº†ä¸å¿…è¦çš„è°ƒè¯•ä¿¡æ¯

## ä¸»è¦åŠŸèƒ½ç‰¹æ€§

### 1. å¯¼èˆªæ é€æ˜Žåº¦æ¸å˜
- **æŽ¨ç‰¹é£Žæ ¼æ¸å˜**: éšç€é¡µé¢ä¸Šæ»‘ï¼Œå¯¼èˆªæ ä»Žå®Œå…¨é€æ˜Žé€æ¸å˜ä¸ºå®žè‰²èƒŒæ™¯
- **æ¸å˜é˜ˆå€¼ä¼˜åŒ–**: 
  - å¼€å§‹æ¸å˜ä½ç½®ï¼š50px
  - å®Œå…¨ä¸é€æ˜Žä½ç½®ï¼š120px
  - æœ€å¤§é€æ˜Žåº¦ï¼š98%
- **ç¼“åŠ¨å‡½æ•°**: ä½¿ç”¨ `easeInOutCubic` å‡½æ•°è®©æ¸å˜æ›´è‡ªç„¶
- **æ¯›çŽ»ç’ƒæ•ˆæžœ**: ä½¿ç”¨ `.regularMaterial` æè´¨å¢žå¼ºå±‚æ¬¡æ„Ÿ

### 2. æ¨ªå¹…å›¾ç‰‡è§†å·®æ•ˆæžœ
- **è§†å·®æ»šåŠ¨**: å‘ä¸‹æ»šåŠ¨æ—¶å›¾ç‰‡å‘ä¸Šç§»åŠ¨ï¼ˆ0.3å€é€Ÿåº¦ï¼‰
- **ç¼©æ”¾æ•ˆæžœ**: å‘ä¸Šæ»šåŠ¨æ—¶å›¾ç‰‡è½»å¾®æ”¾å¤§ï¼Œå¢žå¼ºæ²‰æµ¸æ„Ÿ
- **æ¸å˜èƒŒæ™¯**: è“è‰²åˆ°ç´«è‰²åˆ°ç²‰è‰²çš„æ¸å˜èƒŒæ™¯
- **å¹³æ»‘åŠ¨ç”»**: ä½¿ç”¨ 0.08 ç§’çš„ç¼“åŠ¨åŠ¨ç”»

### 3. ç”¨æˆ·å¤´åƒåŠ¨ç”»
- **ç¼©æ”¾æ•ˆæžœ**: å‘ä¸Šæ»šåŠ¨æ—¶å¤´åƒè½»å¾®ç¼©å°ï¼ˆæœ€å°85%ï¼‰
- **é˜ˆå€¼æŽ§åˆ¶**: 100px æ»šåŠ¨è·ç¦»å†…å®Œæˆç¼©æ”¾
- **å¹³æ»‘è¿‡æ¸¡**: ä¸Žæ»šåŠ¨åŒæ­¥çš„å®žæ—¶ç¼©æ”¾

### 4. å¯¼èˆªæ æ ‡é¢˜åŠ¨ç”»
- **æ¸å…¥æ•ˆæžœ**: æ ‡é¢˜ä»Žé€æ˜Ž+ç¼©æ”¾+ä½ç§»ç»„åˆåŠ¨ç”»å‡ºçŽ°
- **å¼¹æ€§åŠ¨ç”»**: ä½¿ç”¨ spring åŠ¨ç”»ï¼ˆresponse: 0.4, dampingFraction: 0.8ï¼‰
- **æ˜¾ç¤ºæ—¶æœº**: æ»šåŠ¨80pxåŽå¼€å§‹æ˜¾ç¤ºï¼Œ40%è¿›åº¦æ—¶å®Œå…¨æ˜¾ç¤º

### 5. æ ‡ç­¾æ ç²˜æ€§æ•ˆæžœ
- **èƒŒæ™¯æ¸å˜**: æŽ¥è¿‘å¯¼èˆªæ æ—¶æ˜¾ç¤ºæ¯›çŽ»ç’ƒèƒŒæ™¯
- **é˜´å½±æ•ˆæžœ**: åŠ¨æ€æ˜¾ç¤º/éšè—é˜´å½±
- **é€æ˜Žåº¦è®¡ç®—**: åŸºäºŽä¸Žå¯¼èˆªæ è·ç¦»çš„åŠ¨æ€é€æ˜Žåº¦

## æŠ€æœ¯å®žçŽ°ç»†èŠ‚

### æ»šåŠ¨ç›‘å¬
```swift
.onPreferenceChange(ScrollOffsetPreferenceKey.self) { value in
    withAnimation(.easeInOut(duration: 0.1)) {
        scrollOffset = value
        // å„ç§åŠ¨ç”»è®¡ç®—...
    }
}
```

### é€æ˜Žåº¦è®¡ç®—
```swift
private func calculateNavBarOpacity() -> Double {
    let startThreshold: CGFloat = 50
    let endThreshold: CGFloat = 120
    let scrollProgress = min(max((-scrollOffset - startThreshold) / (endThreshold - startThreshold), 0), 1)
    let easedProgress = easeInOutCubic(scrollProgress)
    return easedProgress * 0.98
}
```

### ç¼“åŠ¨å‡½æ•°
```swift
private func easeInOutCubic(_ t: CGFloat) -> Double {
    let t = Double(t)
    return t < 0.5 ? 4 * t * t * t : 1 - pow(-2 * t + 2, 3) / 2
}
```

## åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–

1. **çŸ­åŠ¨ç”»æ—¶é•¿**: ä½¿ç”¨ 0.1-0.15 ç§’çš„çŸ­åŠ¨ç”»æ—¶é•¿ç¡®ä¿å“åº”æ€§
2. **æ‰¹é‡æ›´æ–°**: åœ¨å•ä¸ªåŠ¨ç”»å—ä¸­æ›´æ–°å¤šä¸ªçŠ¶æ€
3. **æ¡ä»¶æ¸²æŸ“**: åªåœ¨éœ€è¦æ—¶æ¸²æŸ“å¤æ‚æ•ˆæžœï¼ˆå¦‚æ¯›çŽ»ç’ƒï¼‰
4. **ç¡¬ä»¶åŠ é€Ÿ**: ä½¿ç”¨ SwiftUI çš„å†…ç½®åŠ¨ç”»ç³»ç»Ÿ

## ç”¨æˆ·ä½“éªŒæå‡

1. **è§†è§‰å±‚æ¬¡**: é€šè¿‡é€æ˜Žåº¦å’Œé˜´å½±å¢žå¼ºç•Œé¢å±‚æ¬¡æ„Ÿ
2. **äº¤äº’åé¦ˆ**: å®žæ—¶å“åº”ç”¨æˆ·æ»šåŠ¨æ“ä½œ
3. **å¹³æ»‘è¿‡æ¸¡**: æ‰€æœ‰åŠ¨ç”»éƒ½ä½¿ç”¨ç¼“åŠ¨å‡½æ•°ç¡®ä¿è‡ªç„¶æ„Ÿ
4. **æ€§èƒ½ä¼˜åŒ–**: åŠ¨ç”»æµç•…ï¼Œä¸å½±å“æ»šåŠ¨æ€§èƒ½

## å…¼å®¹æ€§è¯´æ˜Ž

- æ”¯æŒ iOS 18.0+
- ä½¿ç”¨ SwiftUI åŽŸç”ŸåŠ¨ç”»ç³»ç»Ÿ
- å…¼å®¹æ·±è‰²/æµ…è‰²æ¨¡å¼
- æ”¯æŒåŠ¨æ€å­—ä½“å¤§å°

## åŽç»­ä¼˜åŒ–å»ºè®®

1. å¯ä»¥æ·»åŠ æ›´å¤šå¾®äº¤äº’åŠ¨ç”»
2. è€ƒè™‘æ·»åŠ è§¦è§‰åé¦ˆ
3. ä¼˜åŒ–åœ¨ä½Žç«¯è®¾å¤‡ä¸Šçš„æ€§èƒ½
4. æ·»åŠ ç”¨æˆ·åå¥½è®¾ç½®ï¼ˆå¼€å¯/å…³é—­åŠ¨ç”»ï¼‰

# 会员中心页面设计（iOS / SwiftUI）

位置：个人中心页面 > 会员中心入口

## 页面结构
- 顶部状态卡片
  - 显示当前会员状态（未开通/已开通/已过期）
  - 当前套餐名称、到期时间、剩余天数
  - 自动续费状态、订阅来源（Apple/微信/支付宝/赠送）
  - CTA：未开通显示「立即开通」；已开通显示「管理订阅」「取消自动续费」

- 会员权益
  - AI 健康助手、舌面诊分析、睡眠分析、AI 运动教练语音
  - 根据后端返回 features 动态高亮

- 开通/续费（套餐列表）
  - 套餐卡片：名称、描述、现价/划线价、推荐/促销标签
  - CTA：未开通显示「立即开通」；已开通显示「续费/升级」

- 订阅历史
  - 最近记录：套餐名称、状态（有效/已过期/已取消/待支付）、时间范围、金额
  - 支持刷新

## 主要状态
- 未开通（free）：展示权益介绍 + 购买 CTA
- 已开通（active）：展示剩余天数、自动续费状态与管理入口
- 已过期（expired）：提示已过期 + 引导续费

## API 对接
文档：`qinghe/后端 API 文档/会员订阅与支付.md`

- 获取会员状态：`GET /membership/status`
- 获取套餐列表：`GET /membership/plans`
- 获取订阅历史：`GET /membership/history`
- 取消自动续费：`POST /membership/cancel-auto-renew`

封装：
- `MembershipAPIService`、`MembershipViewModel`
- `NetworkManager.baseURL` 已包含 `/api/v1`，端点以 `/membership/...` 形式声明

## 文件位置
- 视图：`qinghe/qinghe/MembershipCenterView.swift`
- 视图模型：`qinghe/qinghe/MembershipViewModel.swift`
- 模型：`qinghe/qinghe/MembershipModels.swift`
- 服务：`qinghe/qinghe/MembershipAPIService.swift`
- 入口接入：`qinghe/qinghe/UserProfileView.swift`（导航目的地）

## 待办/可扩展
- 接入 IAP/支付购买流程（Apple/微信/支付宝）
- 管理订阅入口跳转（系统订阅管理或应用内页面）
- 套餐权益颗粒度展示（按日/月限额、无限制显示）
- 完整订阅历史列表页面

